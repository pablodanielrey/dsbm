<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="733px" preserveAspectRatio="none" style="width:592px;height:733px;" version="1.1" viewBox="0 0 592 733" width="592px" zoomAndPan="magnify"><defs><filter height="300%" id="f1knmpcsfrxonm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="521" x="35.5" y="28.708">c12 Comprar Libro - Flujo alternativo - Cr√©dito Insuficiente</text><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="497.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="27" y="133.25"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="71.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="254" y="154.3828"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="101.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="254" y="254.7813"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="259" y="291.9141"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="245.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="254" y="385.1797"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="259" y="422.3125"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="259" y="494.4453"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="259" y="566.5781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="32" x2="32" y1="123.25" y2="648.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="258.5" x2="258.5" y1="123.25" y2="648.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="5" y="119.9482">Cliente</text><ellipse cx="32" cy="49.9531" fill="#FEFECE" filter="url(#f1knmpcsfrxonm)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M32,57.9531 L32,84.9531 M19,65.9531 L45,65.9531 M32,84.9531 L19,99.9531 M32,84.9531 L45,99.9531 " fill="none" filter="url(#f1knmpcsfrxonm)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="5" y="660.7061">Cliente</text><ellipse cx="32" cy="674.0078" fill="#FEFECE" filter="url(#f1knmpcsfrxonm)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M32,682.0078 L32,709.0078 M19,690.0078 L45,690.0078 M32,709.0078 L19,724.0078 M32,709.0078 L45,724.0078 " fill="none" filter="url(#f1knmpcsfrxonm)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1knmpcsfrxonm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="69" x="222.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="229.5" y="107.9482">Sistema</text><rect fill="#FEFECE" filter="url(#f1knmpcsfrxonm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="69" x="222.5" y="647.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="229.5" y="667.7061">Sistema</text><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="497.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="27" y="133.25"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="71.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="254" y="154.3828"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="101.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="254" y="254.7813"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="259" y="291.9141"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="245.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="254" y="385.1797"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="259" y="422.3125"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="259" y="494.4453"/><rect fill="#FFFFFF" filter="url(#f1knmpcsfrxonm)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="259" y="566.5781"/><polygon fill="#A80036" points="242,150.3828,252,154.3828,242,158.3828,246,154.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="37" x2="248" y1="154.3828" y2="154.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="44" y="149.3169">libros = iniciar_compra(cliente)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="264" x2="306" y1="183.5156" y2="183.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="306" x2="306" y1="183.5156" y2="196.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="265" x2="306" y1="196.5156" y2="196.5156"/><polygon fill="#A80036" points="275,192.5156,265,196.5156,275,200.5156,271,196.5156" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="271" y="178.4497">libros = buscar_libros_disponibles()</text><polygon fill="#A80036" points="48,221.6484,38,225.6484,48,229.6484,44,225.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="42" x2="258" y1="225.6484" y2="225.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="54" y="220.5825">libros</text><polygon fill="#A80036" points="242,250.7813,252,254.7813,242,258.7813,246,254.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="37" x2="248" y1="254.7813" y2="254.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="44" y="249.7153">seleccionar_libro(libro)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="269" x2="311" y1="283.9141" y2="283.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="311" x2="311" y1="283.9141" y2="296.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="270" x2="311" y1="296.9141" y2="296.9141"/><polygon fill="#A80036" points="280,292.9141,270,296.9141,280,300.9141,276,296.9141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="276" y="278.8481">costo = calcular_costo(cliente, libro)</text><polygon fill="#A80036" points="48,352.0469,38,356.0469,48,360.0469,44,356.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="42" x2="258" y1="356.0469" y2="356.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="54" y="350.981">obtener_informacion_pago</text><polygon fill="#A80036" points="242,381.1797,252,385.1797,242,389.1797,246,385.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="37" x2="248" y1="385.1797" y2="385.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="44" y="380.1138">enviar_info_pago(info)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="269" x2="311" y1="414.3125" y2="414.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="311" x2="311" y1="414.3125" y2="427.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="270" x2="311" y1="427.3125" y2="427.3125"/><polygon fill="#A80036" points="280,423.3125,270,427.3125,280,431.3125,276,427.3125" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="276" y="409.2466">ok = actualizar_stock(libro)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="269" x2="311" y1="486.4453" y2="486.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="311" x2="311" y1="486.4453" y2="499.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="270" x2="311" y1="499.4453" y2="499.4453"/><polygon fill="#A80036" points="280,495.4453,270,499.4453,280,503.4453,276,499.4453" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="276" y="481.3794">cobro_ok = cobrar_libro(cliente, costo, info)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="269" x2="311" y1="558.5781" y2="558.5781"/><line style="stroke:#A80036;stroke-width:1.0;" x1="311" x2="311" y1="558.5781" y2="571.5781"/><line style="stroke:#A80036;stroke-width:1.0;" x1="270" x2="311" y1="571.5781" y2="571.5781"/><polygon fill="#A80036" points="280,567.5781,270,571.5781,280,575.5781,276,571.5781" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309" x="276" y="553.5122">[cobro_ok == False] ok = actualizar_stock(libro)</text><polygon fill="#A80036" points="43,626.7109,33,630.7109,43,634.7109,39,630.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37" x2="258" y1="630.7109" y2="630.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="49" y="625.645">: cr√©dito_insuficiente</text><!--MD5=[1ae204e080885492fc79a51b7eebf2fb]
@startuml
title c12 Comprar Libro - Flujo alternativo - Cr√©dito Insuficiente

actor Cliente as c
participant Sistema as s


activate c
c -> s : libros = iniciar_compra(cliente)
activate s
    s -> s : libros = buscar_libros_disponibles()
    return libros
deactivate s

c -> s : seleccionar_libro(libro)
activate s
    s -> s : costo = calcular_costo(cliente, libro)
    activate s
    deactivate s
    return obtener_informacion_pago
deactivate s

c -> s : enviar_info_pago(info)
activate s
    s -> s : ok = actualizar_stock(libro)
    activate s
    deactivate s            

    s -> s : cobro_ok = cobrar_libro(cliente, costo, info)
    activate s
    deactivate s

    s -> s : [cobro_ok == False] ok = actualizar_stock(libro)
    activate s
    deactivate s

    return : cr√©dito_insuficiente
deactivate s

deactivate c
@enduml

PlantUML version 1.2021.5(Sun Apr 25 11:20:28 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>