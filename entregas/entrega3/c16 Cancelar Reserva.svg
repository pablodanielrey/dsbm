<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="528px" preserveAspectRatio="none" style="width:554px;height:528px;" version="1.1" viewBox="0 0 554 528" width="554px" zoomAndPan="magnify"><defs><filter height="300%" id="f1mi1oh6tdjeju" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="192" x="183.5" y="28.708">c16 Cancelar Reserva</text><rect fill="#FFFFFF" filter="url(#f1mi1oh6tdjeju)" height="272.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="27" y="154.3828"/><rect fill="#FFFFFF" filter="url(#f1mi1oh6tdjeju)" height="71.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="265" y="154.3828"/><rect fill="#FFFFFF" filter="url(#f1mi1oh6tdjeju)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="265" y="254.7813"/><rect fill="#FFFFFF" filter="url(#f1mi1oh6tdjeju)" height="113.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="265" y="313.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="32" x2="32" y1="123.25" y2="444.4453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="269.5" x2="269.5" y1="123.25" y2="444.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="5" y="119.9482">Cliente</text><ellipse cx="32" cy="49.9531" fill="#FEFECE" filter="url(#f1mi1oh6tdjeju)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M32,57.9531 L32,84.9531 M19,65.9531 L45,65.9531 M32,84.9531 L19,99.9531 M32,84.9531 L45,99.9531 " fill="none" filter="url(#f1mi1oh6tdjeju)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="5" y="456.4404">Cliente</text><ellipse cx="32" cy="469.7422" fill="#FEFECE" filter="url(#f1mi1oh6tdjeju)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M32,477.7422 L32,504.7422 M19,485.7422 L45,485.7422 M32,504.7422 L19,519.7422 M32,504.7422 L45,519.7422 " fill="none" filter="url(#f1mi1oh6tdjeju)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1mi1oh6tdjeju)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="69" x="233.5" y="87.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="240.5" y="107.9482">Sistema</text><rect fill="#FEFECE" filter="url(#f1mi1oh6tdjeju)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="69" x="233.5" y="443.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="240.5" y="463.4404">Sistema</text><rect fill="#FFFFFF" filter="url(#f1mi1oh6tdjeju)" height="272.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="27" y="154.3828"/><rect fill="#FFFFFF" filter="url(#f1mi1oh6tdjeju)" height="71.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="265" y="154.3828"/><rect fill="#FFFFFF" filter="url(#f1mi1oh6tdjeju)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="265" y="254.7813"/><rect fill="#FFFFFF" filter="url(#f1mi1oh6tdjeju)" height="113.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="265" y="313.0469"/><polygon fill="#A80036" points="253,150.3828,263,154.3828,253,158.3828,257,154.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="37" x2="259" y1="154.3828" y2="154.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="44" y="149.3169">libros = cancelar_reserva(cliente)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="275" x2="317" y1="183.5156" y2="183.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="317" x2="317" y1="183.5156" y2="196.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="276" x2="317" y1="196.5156" y2="196.5156"/><polygon fill="#A80036" points="286,192.5156,276,196.5156,286,200.5156,282,196.5156" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="282" y="178.4497">reservas = buscar_reservas_a_cancelar()</text><polygon fill="#A80036" points="48,221.6484,38,225.6484,48,229.6484,44,225.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="42" x2="269" y1="225.6484" y2="225.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="54" y="220.5825">reservas</text><polygon fill="#A80036" points="253,250.7813,263,254.7813,253,258.7813,257,254.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="37" x2="259" y1="254.7813" y2="254.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="44" y="249.7153">seleccionar_reserva(reserva)</text><polygon fill="#A80036" points="48,279.9141,38,283.9141,48,287.9141,44,283.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="42" x2="269" y1="283.9141" y2="283.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="54" y="278.8481">confirmar</text><polygon fill="#A80036" points="253,309.0469,263,313.0469,253,317.0469,257,313.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="37" x2="259" y1="313.0469" y2="313.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="44" y="307.981">confirmar_cancelación()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="275" x2="317" y1="342.1797" y2="342.1797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="317" x2="317" y1="342.1797" y2="355.1797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="276" x2="317" y1="355.1797" y2="355.1797"/><polygon fill="#A80036" points="286,351.1797,276,355.1797,286,359.1797,282,355.1797" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="282" y="337.1138">cancelar_reserva(reserva)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="275" x2="317" y1="384.3125" y2="384.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="317" x2="317" y1="384.3125" y2="397.3125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="276" x2="317" y1="397.3125" y2="397.3125"/><polygon fill="#A80036" points="286,393.3125,276,397.3125,286,401.3125,282,397.3125" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="282" y="379.2466">actualizar_stock_preventa(reserva)</text><polygon fill="#A80036" points="43,422.4453,33,426.4453,43,430.4453,39,426.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37" x2="269" y1="426.4453" y2="426.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="49" y="421.3794">ok</text><!--MD5=[7e8b23eb3c514323c6c995706e8d450a]
@startuml
title c16 Cancelar Reserva

actor Cliente as c
participant Sistema as s

c -> s : libros = cancelar_reserva(cliente)
activate c
    activate s
    s -> s : reservas = buscar_reservas_a_cancelar()
    return reservas
    deactivate s

    c -> s : seleccionar_reserva(reserva)
    activate s
        return confirmar
    deactivate s

    c -> s : confirmar_cancelación()
    activate s
        s -> s : cancelar_reserva(reserva)
        s -> s : actualizar_stock_preventa(reserva)
        return ok
    deactivate s

deactivate c
@enduml

PlantUML version 1.2021.5(Sun Apr 25 11:20:28 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>